:root {
  --background: 240 10% 3.9%;
  --foreground: 0 0% 98%;
  --card: 240 10% 3.9%;
  --card-foreground: 0 0% 98%;
  --primary: 262 83% 58%;
  --primary-foreground: 0 0% 98%;
  --secondary: 240 3.7% 15.9%;
  --secondary-foreground: 0 0% 98%;
  --muted: 240 3.7% 15.9%;
  --muted-foreground: 240 5% 64.9%;
  --border: 240 3.7% 15.9%;
  --ring: 262 83% 58%;
}

* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  font-family: 'Inter', sans-serif;
  background: hsl(var(--background));
  color: hsl(var(--foreground));
  min-height: 100vh;
  overflow-x: hidden;
}

/* Three.js canvas host */
#three-bg {
  position: fixed;
  inset: 0;
  z-index: 0;
  pointer-events: none;
}

/* Sembunyikan background lama bila masih ada */
.space-background { display: none; }

/* Space Background (fallback) */
.space-background {
  position: fixed;
  inset: 0;
  z-index: 0;
  overflow: hidden;
  background: linear-gradient(to bottom, hsl(240 10% 3.9%), hsl(240 15% 8%), hsl(240 10% 3.9%));
}
.stars { position: absolute; inset: 0; }
.star { position: absolute; background: white; border-radius: 50%; animation: twinkle 3s ease-in-out infinite; }
@keyframes twinkle { 0%,100%{opacity:.3;transform:scale(1)} 50%{opacity=1;transform=scale(1.2)} }
@keyframes nebula-shift { 0%{filter:blur(80px) hue-rotate(0deg);opacity:.15} 50%{filter:blur(80px) hue-rotate(60deg);opacity:.25} 100%{filter:blur(80px) hue-rotate(0deg);opacity:.15} }
.nebula { animation: nebula-shift 8s ease-in-out infinite; }

/* Glassmorphism */
.id-card { background: hsl(var(--card) / 0.6); backdrop-filter: blur(20px); border: 1px solid hsl(var(--foreground) / 0.1); box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37); }
.project-card { background: hsl(var(--card) / 0.4); backdrop-filter: blur(16px); border: 1px solid hsl(var(--foreground) / 0.05); }
.feature-card { background: hsl(var(--card) / 0.3); backdrop-filter: blur(12px); }

/* Reveal on scroll (initial state) */
.project-card, .feature-card, .timeline-content { opacity: 0; transform: translateY(8px); transition: opacity .4s, transform .4s; }
.fade-in { opacity: 1 !important; transform: none !important; }

/* Cursor */
* { cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><circle cx="16" cy="16" r="4" fill="%23a78bfa"/><circle cx="16" cy="16" r="12" fill="none" stroke="%23a78bfa" stroke-width="1" opacity="0.5"/></svg>') 16 16, auto; }
a,button { cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><circle cx="16" cy="16" r="5" fill="%23a78bfa"/><circle cx="16" cy="16" r="14" fill="none" stroke="%23a78bfa" stroke-width="1.5"/></svg>') 16 16, pointer; }

/* Buttons */
@keyframes magneticPull { 0% { transform: translate(0, 0); } }
.btn { position: relative; overflow: hidden; padding: .75rem 1.5rem; border-radius: .5rem; font-weight: 500; text-decoration: none; transition: all .3s; cursor: pointer; border: none; }
.btn::before { content:''; position:absolute; top:0; left:-100%; width:100%; height:100%; background:linear-gradient(90deg, transparent, hsl(var(--foreground) / 0.2), transparent); transition:left .5s; }
.btn:hover::before { left: 100%; }
.btn-primary { background: hsl(var(--primary)); color: hsl(var(--primary-foreground)); box-shadow: 0 0 20px hsl(var(--primary) / 0.3); transition: all .3s; }
.btn-primary:hover { opacity:.9; transform: translateY(-2px); box-shadow: 0 0 30px hsl(var(--primary) / 0.6), 0 0 60px hsl(var(--primary) / 0.3); }
.btn-outline { background: transparent; color: hsl(var(--foreground)); border: 1px solid hsl(var(--border)); }
.btn-outline:hover { background: hsl(var(--secondary)); }

/* Particles (UI trail) */
.particle { position: fixed; pointer-events: none; z-index: 9998; }
.particle-dot { width:4px; height:4px; border-radius:50%; background:hsl(var(--primary)); box-shadow:0 0 8px hsl(var(--primary)); }
@keyframes particle-float { to { transform: translate(var(--tx), var(--ty)) scale(0); opacity: 0; } }
.particle-float { animation: particle-float 1s ease-out forwards; }

/* Nav */
nav { position: fixed; top:0; left:0; right:0; z-index:100; padding:1rem 1.5rem; transition: all .3s; }
nav.scrolled { background: hsl(var(--card) / 0.8); backdrop-filter: blur(12px); border-bottom: 1px solid hsl(var(--border)); }
.nav-container { max-width:1200px; margin:0 auto; display:flex; justify-content:space-between; align-items:center; }
.logo { font-size:1.5rem; font-weight:700; }
.gradient-text { background: linear-gradient(135deg, hsl(var(--primary)), hsl(280 80% 60%)); -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text; }
.nav-links { display:flex; gap:2rem; }
.nav-links a { color:hsl(var(--muted-foreground)); text-decoration:none; transition: color .3s; }
.nav-links a:hover, .nav-links a.active { color:hsl(var(--primary)); }

/* Hero */
.hero { min-height:100vh; display:flex; align-items:center; justify-content:center; padding:5rem 1.5rem 2rem; position:relative; }
.hero-container {
  max-width:1200px;
  margin:0 auto;
  display:grid;
  grid-template-columns:minmax(0,1.1fr) minmax(0,0.9fr); /* pastikan 2 kolom */
  gap:3rem;
  align-items:center;
}
.hero-content{ grid-column:1; }              /* teks kiri */
.id-card-container{ grid-column:2;           /* kartu kanan */
  justify-self:center; align-self:center;
}
@media (max-width:768px){ .hero-container{ grid-template-columns:1fr; } }
.hero-content h1 { font-size:3.5rem; font-weight:700; line-height:1.2; margin-bottom:1rem; }
@media (max-width:768px){ .hero-content h1{ font-size:2.5rem; } }
.typing-container { font-size:1.5rem; color:hsl(var(--muted-foreground)); min-height:2.5rem; margin-bottom:1rem; }
.typing-text::after { content:'|'; animation: blink 1s infinite; }
@keyframes blink { 0%,50%{opacity=1} 51%,100%{opacity=0} }
.hero-description { color:hsl(var(--muted-foreground)); font-size:1.125rem; margin-bottom:1.5rem; }
.hero-buttons { display:flex; gap:1rem; flex-wrap:wrap; margin-bottom:1.5rem; }
@media (max-width:768px){ .hero-buttons{ justify-content:center; } }
.social-links { display:flex; gap:1.5rem; }
@media (max-width:768px){ .social-links{ justify-content:center; } }
.social-links a { color:hsl(var(--muted-foreground)); transition: color .3s; }
.social-links a:hover { color:hsl(var(--primary)); }

/* ID card + lanyard */
.id-card-container { display:flex; flex-direction:column; align-items:center; perspective:1000px; }
.ceiling-hook { width:16px; height:16px; background:hsl(var(--muted-foreground) / 0.6); border-radius:50%; box-shadow:0 2px 4px rgba(0,0,0,.3); z-index:20; }
@keyframes swing { 0%,100%{ transform: rotateZ(-2deg) translateY(0) } 50%{ transform: rotateZ(2deg) translateY(-8px) } }
@keyframes floatingIdle { 0%,100%{ transform: translateY(0) rotateZ(-2deg) } 50%{ transform: translateY(-12px) rotateZ(2deg) } }
.lanyard-system { animation: swing 4s ease-in-out infinite; display:flex; flex-direction:column; align-items:center; transform-style: preserve-3d; transform-origin: top center; transition: transform .5s ease-out; }
.lanyard-system:hover { animation-play-state: paused; }
.lanyard-string { width:4px; height:80px; background:linear-gradient(to bottom, hsl(var(--muted-foreground) / 0.6), hsl(var(--primary) / 0.7), hsl(var(--primary) / 0.5)); border-radius:4px; }
.lanyard-clip { position:relative; }
.clip-top { width:32px; height:12px; background:hsl(var(--muted-foreground) / 0.7); border-radius:2px; box-shadow:0 2px 4px rgba(0,0,0,.2); }
.clip-bottom { position:absolute; top:8px; left:50%; transform:translateX(-50%); width:24px; height:16px; background:hsl(var(--muted-foreground) / 0.5); border-radius:0 0 8px 8px; }
.id-card{ width:320px; border-radius:12px; padding:1.5rem; position:relative; overflow:hidden; } /* cegah konten keluar */
.card-details { text-align:center; }
.card-details h3 { font-size:1.125rem; /* sedikit kecil */ }
.card-details .role { font-size:.75rem; color:hsl(var(--muted-foreground)); text-transform:uppercase; letter-spacing:.1em; }
.card-info { margin-top:.75rem; padding-top:.75rem; border-top:1px solid hsl(var(--border)); }
.card-info-row { display:flex; justify-content:space-between; font-size:.75rem; margin-bottom:.25rem; }
.card-info-row span:first-child { color:hsl(var(--muted-foreground)); }
.card-info-row .level { font-weight:600; }
.card-info-row .status { color:hsl(var(--primary)); font-weight:600; }
.barcode { margin-top:1rem; padding-top:.75rem; border-top:1px solid hsl(var(--border)); display:flex; justify-content:center; gap:4px; }
.barcode span { height:32px; background:hsl(var(--foreground) / 0.2); }

/* Scroll indicator */
.scroll-indicator { position:absolute; bottom:2.5rem; left:50%; transform:translateX(-50%); animation: bounce 2s infinite; }
@keyframes bounce { 0%,100%{ transform: translateX(-50%) translateY(0) } 50%{ transform: translateX(-50%) translateY(-10px) } }

/* Sections */
section { padding:5rem 1.5rem; position:relative; z-index:1; }
.section-title { font-size:2.5rem; font-weight:700; text-align:center; margin-bottom:3rem; }

/* About */
.about-section { background: hsl(var(--card) / 0.3); backdrop-filter: blur(12px); }
.about-container { max-width:1200px; margin:0 auto; display:grid; grid-template-columns:1fr 1fr; gap:3rem; align-items:center; }
@media (max-width:768px){ .about-container{ grid-template-columns:1fr; } }
.about-image { border-radius:8px; box-shadow:0 25px 50px -12px rgba(0,0,0,.5); width:100%; height:400px; object-fit:cover; background:hsl(var(--secondary)); transition: transform .3s ease, box-shadow .3s ease; }
.about-image:hover { transform: scale(1.02); box-shadow:0 35px 60px -15px rgba(0,0,0,.6); }
.about-content h3 { font-size:1.5rem; font-weight:600; margin-bottom:1rem; }
.about-content p { color:hsl(var(--muted-foreground)); margin-bottom:1rem; }
.features-grid { display:grid; grid-template-columns:1fr 1fr; gap:1rem; margin-top:1.5rem; }
.feature-card {
  background:hsl(var(--card) / 0.3);
  backdrop-filter: blur(12px);
  padding:1rem;
  border-radius:8px;
  border:1px solid hsl(var(--border));
  display:flex; flex-direction:column; gap:.5rem;
  overflow:hidden; /* tahan konten */
}
.feature-card:hover { transform: translateY(-4px); box-shadow:0 10px 30px -10px hsl(var(--primary) / 0.3); }
.feature-card svg { width:24px; height:24px; margin-bottom:.5rem; }
.feature-card h4 { margin:0; }
.feature-card p { margin:0; word-break:break-word; }

/* Skills */
.skills-container { max-width:1200px; margin:0 auto; display:grid; grid-template-columns:1fr 1fr; gap:3rem; }
@media (max-width:768px){ .skills-container{ grid-template-columns:1fr; } }
.skills-list h3 { font-size:1.5rem; font-weight:600; margin-bottom:1.5rem; }
.skill-item { margin-bottom:1.5rem; }
.skill-header { display:flex; justify-content:space-between; font-size:.875rem; margin-bottom:.5rem; }
.skill-header span:first-child { font-weight:500; }
.skill-header span:last-child { color:hsl(var(--muted-foreground)); }
.skill-bar { height:12px; background:hsl(var(--secondary)); border-radius:6px; overflow:hidden; }
.skill-progress { height:100%; background:linear-gradient(90deg, hsl(var(--primary)), hsl(280 80% 60%)); border-radius:6px; transition: width 1s ease-out; }
.tools-grid { display:grid; grid-template-columns:repeat(3, 1fr); gap:1rem; }
.tool-card { background:hsl(var(--card) / 0.5); backdrop-filter: blur(12px); padding:1.5rem; border-radius:8px; border:1px solid hsl(var(--border)); text-align:center; transition: transform .3s, box-shadow .3s; cursor:pointer; }
.tool-card:hover { transform: translateY(-4px); box-shadow:0 10px 30px -10px hsl(var(--primary) / 0.3); }
.tool-card .icon { font-size:2rem; margin-bottom:.5rem; }
.tool-card p { font-size:.875rem; font-weight:500; }

/* Projects */
.projects-container { max-width:1200px; margin:0 auto; }
.projects-grid { display:grid; grid-template-columns:repeat(3, 1fr); gap:2rem; }
@media (max-width:1024px){ .projects-grid{ grid-template-columns:repeat(2,1fr); } }
@media (max-width:640px){ .projects-grid{ grid-template-columns:1fr; } }
.project-card { border-radius:12px; border:1px solid hsl(var(--border)); overflow:hidden; }
.project-card:hover { transform: translateY(-8px); box-shadow:0 20px 40px -15px hsl(var(--primary) / 0.3); }
.project-image { width:100%; height:200px; object-fit:cover; background:linear-gradient(135deg, hsl(var(--primary) / 0.2), hsl(var(--secondary))); }
.project-content { padding:1.5rem; }
.project-content h3 { font-size:1.25rem; font-weight:600; margin-bottom:.5rem; }
.project-content p { color:hsl(var(--muted-foreground)); font-size:.875rem; margin-bottom:1rem; }
.project-tags { display:flex; flex-wrap:wrap; gap:.5rem; margin-bottom:1rem; }
.tag { padding:.25rem .75rem; border-radius:9999px; font-size:.75rem; font-weight:500; }
.tag-blue { background:hsl(217 91% 60% / 0.2); color:hsl(217 91% 60%); }
.tag-green { background:hsl(142 71% 45% / 0.2); color:hsl(142 71% 45%); }
.tag-purple { background:hsl(262 83% 58% / 0.2); color:hsl(262 83% 58%); }
.tag-yellow { background:hsl(45 93% 47% / 0.2); color:hsl(45 93% 47%); }
.tag-cyan { background:hsl(188 78% 41% / 0.2); color:hsl(188 78% 41%); }
.project-links { display:flex; gap:1rem; }
.project-links a { display:flex; align-items:center; gap:.5rem; color:hsl(var(--primary)); text-decoration:none; font-size:.875rem; transition: opacity .3s; }
.project-links a:hover { opacity:.8; }

/* Experience */
.experience-container { max-width:800px; margin:0 auto; }
.timeline { position:relative; padding-left:2rem; }
.timeline::before { content:''; position:absolute; left:32px; top:0; bottom:0; width:2px; background:hsl(var(--border)); }
.timeline-item { position:relative; display:flex; align-items:flex-start; margin-bottom:2rem; }
.timeline-dot { position:absolute; left:24px; width:16px; height:16px; border-radius:50%; z-index:1; }
.timeline-dot.blue{ background:hsl(217 91% 60%); }
.timeline-dot.purple{ background:hsl(262 83% 58%); }
.timeline-dot.green{ background:hsl(142 71% 45%); }
.timeline-content {
  margin-left:3rem;
  background:hsl(var(--card) / 0.5);
  backdrop-filter: blur(12px);
  padding:1.25rem;            /* ruang cukup */
  border-radius:8px;
  border:1px solid hsl(var(--border));
  overflow:hidden;            /* tahan konten */
  word-break:break-word;
}
.timeline-content:hover { transform: translateX(8px); box-shadow:0 10px 30px -10px hsl(var(--primary) / 0.3); }
.timeline-content h3 { font-size:1.25rem; font-weight:600; margin-bottom:.5rem; }
.timeline-content .company { color:hsl(var(--primary)); margin-bottom:.5rem; }
.timeline-content p { color:hsl(var(--muted-foreground)); font-size:.875rem; }

/* Contact */
.contact-container { max-width:600px; margin:0 auto; }
.contact-form { background:hsl(var(--card) / 0.5); backdrop-filter: blur(12px); padding:2rem; border-radius:12px; border:1px solid hsl(var(--border)); }
.form-group { margin-bottom:1.5rem; }
.form-group label { display:block; font-weight:500; margin-bottom:.5rem; }
.form-group input, .form-group textarea { width:100%; padding:.75rem 1rem; background:hsl(var(--background)); border:1px solid hsl(var(--border)); border-radius:8px; color:hsl(var(--foreground)); font-family:inherit; transition:border-color .3s; }
.form-group input:focus, .form-group textarea:focus { outline:none; border-color:hsl(var(--primary)); }
.form-group textarea { min-height:150px; resize:vertical; }
.form-row { display:grid; grid-template-columns:1fr 1fr; gap:1rem; }
@media (max-width:640px){ .form-row{ grid-template-columns:1fr; } }
.submit-btn { width:100%; padding:1rem; background:hsl(var(--primary)); color:hsl(var(--primary-foreground)); border:none; border-radius:8px; font-weight:600; cursor:pointer; transition: opacity .3s, transform .3s; }
.submit-btn:hover { opacity:.9; transform: translateY(-2px); }

/* Footer */
footer { background:hsl(var(--card) / 0.5); backdrop-filter: blur(12px); border-top:1px solid hsl(var(--border)); padding:2rem 1.5rem; position:relative; z-index:1; }
.footer-container { max-width:1200px; margin:0 auto; display:flex; justify-content:space-between; align-items:center; flex-wrap:wrap; gap:1rem; }
.footer-container p { color:hsl(var(--muted-foreground)); }
.footer-social { display:flex; gap:1.5rem; }
.footer-social a { color:hsl(var(--muted-foreground)); transition: color .3s; }
.footer-social a:hover { color:hsl(var(--primary)); }

/* Toast */
.toast { position:fixed; bottom:2rem; right:2rem; background:hsl(var(--card)); border:1px solid hsl(var(--border)); padding:1rem 1.5rem; border-radius:8px; box-shadow:0 10px 30px -10px rgba(0,0,0,.5); z-index:1000;
@media (max-width:768px){ .nav-links{ display:none; } .mobile-menu-btn{ display:block; } }
.mobile-menu { display:none; position:fixed; top:60px; left:0; right:0; background:hsl(var(--card) / 0.95); backdrop-filter: blur(12px); padding:1rem; border-bottom:1px solid hsl(var(--border)); z-index:99; }
.mobile-menu.open { display:block; }
.mobile-menu a { display:block; padding:.75rem 1rem; color:hsl(var(--muted-foreground)); text-decoration:none; border-radius:8px; transition: background .3s, color .3s; }
.mobile-menu a:hover { background:hsl(var(--secondary)); color:hsl(var(--primary)); }